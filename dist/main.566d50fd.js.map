{"version":3,"sources":["main.js"],"names":["lastLi","$","find","sites","JSON","parse","localStorage","getItem","siteStorage","logo","url","simplifyUrl","replace","render","remove","forEach","item","index","site","insertBefore","on","window","location","href","e","stopPropagation","splice","prompt","startsWith","push","toUpperCase","onbeforeunload","setItem","stringify","document","key","toLowerCase"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,MAAM,GAAGC,CAAC,CAAC,WAAD,CAAD,CAAeC,IAAf,CAAoB,SAApB,CAAf;AACA,IAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAd;AACA,IAAMC,WAAW,GAAGL,KAAK,IAAI,CAC3B;AAAEM,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,GAAG,EAAE;AAAlB,CAD2B,EAE3B;AAAED,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,GAAG,EAAE;AAAlB,CAF2B,CAA7B;;AAIA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACD,GAAD,EAAS;AAC3B,SAAOA,GAAG,CAACE,OAAJ,CAAY,UAAZ,EAAwB,EAAxB,EACIA,OADJ,CACY,SADZ,EACuB,EADvB,EAEIA,OAFJ,CAEY,MAFZ,EAEoB,EAFpB,EAGIA,OAHJ,CAGY,MAHZ,EAGoB,EAHpB,CAAP,CAD2B,CAIK;AACjC,CALD;;AAMA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACnBZ,EAAAA,CAAC,CAAC,WAAD,CAAD,CAAeC,IAAf,CAAoB,eAApB,EAAqCY,MAArC;AACAN,EAAAA,WAAW,CAACO,OAAZ,CAAoB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACnC,QAAMC,IAAI,GAAGjB,CAAC,yGAE0Be,IAAI,CAACP,IAF/B,iEAG0BE,WAAW,CAACK,IAAI,CAACN,GAAN,CAHrC,iUAAD,CAUWS,YAVX,CAUwBnB,MAVxB,CAAb,CADmC,CAYnC;;AACAkB,IAAAA,IAAI,CAACE,EAAL,CAAQ,OAAR,EAAiB,YAAM;AACrBC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBP,IAAI,CAACN,GAA5B;AACD,KAFD;AAGAQ,IAAAA,IAAI,CAACE,EAAL,CAAQ,OAAR,EAAiB,SAAjB,EAA4B,UAACI,CAAD,EAAO;AACjCA,MAAAA,CAAC,CAACC,eAAF,GADiC,CACZ;;AACrBjB,MAAAA,WAAW,CAACkB,MAAZ,CAAmBT,KAAnB,EAA0B,CAA1B;AACAJ,MAAAA,MAAM;AACP,KAJD;AAKD,GArBD;AAsBD,CAxBD,EA0BA;;;AACAA,MAAM;AAENZ,CAAC,CAAC,YAAD,CAAD,CAAgBmB,EAAhB,CAAmB,OAAnB,EAA4B,YAAM;AAChC;AACA,MAAIV,GAAG,GAAGiB,MAAM,CAAC,YAAD,CAAhB;;AACA,MAAI,CAACjB,GAAG,CAACkB,UAAJ,CAAe,MAAf,CAAL,EAA6B;AAC3BlB,IAAAA,GAAG,GAAG,aAAaA,GAAnB;AACD,GAL+B,CAMhC;;;AACAF,EAAAA,WAAW,CAACqB,IAAZ,CAAiB;AACfpB,IAAAA,IAAI,EAAEE,WAAW,CAACD,GAAD,CAAX,CAAiB,CAAjB,EAAoBoB,WAApB,EADS;AAEfpB,IAAAA,GAAG,EAAEA;AAFU,GAAjB,EAPgC,CAWhC;;AACAG,EAAAA,MAAM;AACP,CAbD,GAeA;;AACAQ,MAAM,CAACU,cAAP,GAAwB,YAAM;AAC5BzB,EAAAA,YAAY,CAAC0B,OAAb,CAAqB,OAArB,EAA8B5B,IAAI,CAAC6B,SAAL,CAAezB,WAAf,CAA9B;AACD,CAFD,EAIA;;;AACAP,CAAC,CAACiC,QAAD,CAAD,CAAYd,EAAZ,CAAe,UAAf,EAA2B,UAACI,CAAD,EAAO;AAChC,MAAOW,GAAP,GAAcX,CAAd,CAAOW,GAAP;AACA3B,EAAAA,WAAW,CAACO,OAAZ,CAAoB,UAAAC,IAAI,EAAI;AAC1B,QAAGA,IAAI,CAACP,IAAL,CAAU2B,WAAV,OAA4BD,GAA/B,EAAmC;AACjCd,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBP,IAAI,CAACN,GAA5B;AACD;AACF,GAJD;AAKD,CAPD;AAQAT,CAAC,CAAC,mBAAD,CAAD,CAAuBmB,EAAvB,CAA0B,UAA1B,EAAsC,UAACI,CAAD,EAAO;AAC3CA,EAAAA,CAAC,CAACC,eAAF;AACD,CAFD","file":"main.566d50fd.js","sourceRoot":"../src","sourcesContent":["const lastLi = $('.siteList').find('li.last')\nconst sites = JSON.parse(localStorage.getItem('sites'))\nconst siteStorage = sites || [\n  { logo: 'F', url: 'https://www.figma.com' },\n  { logo: 'X', url: 'https://xiedaimala.com' }\n]\nconst simplifyUrl = (url) => {\n  return url.replace('https://', '')\n            .replace('http://', '')\n            .replace('www.', '')\n            .replace(/\\/.*/, '')  // 删除 / 开头的所有字符\n}\nconst render = () => {\n  $('.siteList').find('li:not(.last)').remove()\n  siteStorage.forEach((item, index) => {\n    const site = $(`<li>\n                      <div class=\"site\">\n                        <div class=\"logo\">${item.logo}</div>\n                        <div class=\"link\">${simplifyUrl(item.url)}</div>\n                        <div class=\"remove\">\n                          <svg class=\"icon\" aria-hidden=\"true\">\n                            <use xlink:href=\"#icon-remove\"></use>\n                          </svg>\n                        </div>\n                      </div>\n                    </li>`).insertBefore(lastLi)\n    // 模拟 a 标签\n    site.on('click', () => {\n      window.location.href = item.url\n    })\n    site.on('click', '.remove', (e) => {\n      e.stopPropagation()  // 阻止冒泡\n      siteStorage.splice(index, 1)\n      render()\n    })\n  })\n}\n\n// 渲染\nrender()\n\n$('.addButton').on('click', () => {\n  // 获取用户输入的网址\n  let url = prompt('请输入你要添加的网址')\n  if (!url.startsWith('http')) {\n    url = 'https://' + url\n  }\n  // 存储网站\n  siteStorage.push({\n    logo: simplifyUrl(url)[0].toUpperCase(),\n    url: url\n  })\n  // 重新渲染\n  render()\n})\n\n// 窗口卸载时将网站保存到 localStorage\nwindow.onbeforeunload = () => {\n  localStorage.setItem('sites', JSON.stringify(siteStorage))\n}\n\n// 允许使用键盘打开网站\n$(document).on('keypress', (e) => {\n  const {key} = e\n  siteStorage.forEach(item => {\n    if(item.logo.toLowerCase() === key){\n      window.location.href = item.url\n    }\n  })\n})\n$('.searchForm>input').on('keypress', (e) => {\n  e.stopPropagation();\n})"]}